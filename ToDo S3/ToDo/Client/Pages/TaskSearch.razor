@page "/search"

<PageHeader Title="@("全部待办事项")" Subtitle="@($"数量：{total}")"></PageHeader>

<Search @bind-Value="queryTitle" OnSearch="OnSearch"></Search>

<Spin Spinning="@isLoading">
    <Table DataSource="@datas" PageSize="10" Total="@total" OnChange="OnChange" TItem="TaskDto">
        <AntDesign.Column @bind-Field="@context.Title">
            @context.Title
            @if (context.IsImportant)
            {
                <Tag Color="orange">重要</Tag>
            }
        </AntDesign.Column>
        <AntDesign.Column @bind-Field="@context.Description" />
        <AntDesign.Column @bind-Field="@context.PlanTime" />
        <AntDesign.Column @bind-Field="@context.Deadline" />
        <AntDesign.Column @bind-Field="@context.IsFinish">
            @if (context.IsFinish)
            {
                <Icon Type="check" Theme="outline" />
            }
        </AntDesign.Column>
        <AntDesign.Column TData="object">
            <Button OnClick="e=>OnDetail(context)">详情</Button>
        </AntDesign.Column>
    </Table>
</Spin>

@code {





}
